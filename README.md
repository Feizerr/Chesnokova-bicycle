Мобильные устройства постепенно вытесняют компьютеры: по статистике Litmus, 53% электронных писем открываются с мобильных девайсов. Поэтому важно знать, как верстать адаптивные письма.

Основные правила для корректного отображения писем на всех устройствах:
1. **Ширина письма не должна превышать 500–600px.** Такие письма лучше выглядят и их удобнее читать.
2. **Кнопки и ссылки должны быть не меньше 44x44px** — таковы рекомендации по интерфейсу от Apple. Иначе пользователям, которые просматривают почту на мобильных телефонах, будет неудобно нажимать на мелкие элементы.
3. **Используйте шрифты размером не менее 13px**. На экранах iPhone текст автоматически увеличивается до этих размеров, поэтому вёрстка письма может сломаться.
4. **Размещайте важную информацию в верхней части письма.** Скроллить пальцем на тачскринах сложнее, чем пролистывать страницу с помощью мыши.
5. Используйте **небольшое количество изображений** и **адаптируйте** их под размер экрана.
6. По возможности **используйте свойство** display: none; **, чтобы убрать на смартфоне лишние элементы**, например, кнопки шаринга. Они полезны на десктопе или планшетах, но не всегда нужны на мобильных устройствах.
7. **При разработке используйте два скетча или варфрейма**: первый — для десктоп-клиентов и веб-версиий почтовых сервисов, второй — для мобильных устройств.

## Отзывчивый email-дизайн

Чтобы письма одинаково хорошо смотрелись и на компьютерах, и на смартфонах, используйте медиазапросы и резиновую вёрстку.

### Медиазапросы

Медиазапросы (media queries) — это правила CSS, которые позволяют управлять стилями в зависимости от параметров устройства. Они работают по принципу переключателя: как только ширина или ориентация экрана меняется, медиазапрос срабатывает и переопределяет какие-то стилевые правила. Менять можно всё: цвета, шрифты, отступы. С их помощью можно добавлять или скрывать какие-то элементы, управлять размерами изображений, увеличивать и уменьшать кнопки и выполнять многие другие задачи.

При этом не все почтовые клиенты поддерживают медиазапросы. Например, десктопная версия и приложение Yandex по-прежнему не «видят» их. Посмотреть список клиентов, которые поддерживают медиазапросы, можно здесь:

![Поддержка media](/assets/book/01-basics/1.png)

Код медиазапросов вставляют прямо в шаблон с использованием следующих конструкций:

```
<style type="text/css">
    @media only screen and (max-width: 600px) {
        /* здесь пишут стили для мобильных платформ */
    }

    /* здесь пишут CSS для десктопа */
</style>
```

### Резиновая вёрстка

Письмо в две-три колонки удобно читать на широких экранах: на компьютерах или планшетах. Но на смартфонах такие письма сожмутся, поэтому пользователю будет сложно разобрать текст, просмотреть картинку или перейти по ссылке. Чтобы решить эту проблему и превратить многоколоночный макет в одноколоночный, можно использовать резиновую вёрстку.

Самое простое решение – использовать одну колонку, чтобы сделать письмо резиновым. То есть при изменении окна просмотра будет меняться и ширина контейнера с контентом.

Пример кода для резиновой вёрстки:

```
.container {
    max-width: 600px;
    width: 100%;
}
```

Результат работы резиновой вёрстки:

![Поддержка media](/assets/book/01-basics/2.png)

### Адаптивные изображения

При использовании крупных изображений с фиксированной шириной можно столкнуться с еще одной проблемой: на мобильных устройствах такие картинки могут ломать вёрстку и вызывать горизонтальный скролл. Поэтому для вёрстки писем гораздо удобнее использовать адаптивные изображения.

Адаптивными называют изображения, размер которых подстраивается под ширину экрана. При уменьшении области просмотра такие изображения тоже могут уменьшаться, при увеличении — становиться крупнее. Такое поведение достигается благодаря тому, что им устанавливают размеры в относительных единицах или в процентах от максимальных размеров.

Изменить размеры изображения можно с помощью медиазапросов. Вот пример, как менять размеры картинок на мобильных устройствах с максимальной шириной 600px:

```
<style type="text/css">
   @media only screen and (max-width: 600px){
     .adaptive-image {
       width: 100% !important;
       height: auto !important;
     }
   }
</style>
```

https://text.ru/spelling/6138bbe4b51e9
